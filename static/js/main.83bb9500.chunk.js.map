{"version":3,"sources":["components/NotFound.jsx","utils/data.js","components/Card.jsx","pages/Home.jsx","utils/validator.js","components/TextField.jsx","components/Modal.jsx","pages/Form.jsx","App.js","index.js"],"names":["NotFound","getData","JSON","parse","localStorage","getItem","Card","firstName","lastName","yearOfBirth","portfolio","className","style","width","href","to","Home","validator","data","config","errors","validate","validateMethod","trim","message","length","Number","Date","now","getFullYear","test","fieldName","error","TextField","label","type","name","value","onChange","htmlFor","id","color","Modal","show","onShow","onClick","initalState","Form","useState","setaData","setErrors","modalShow","setModalShow","handleChange","target","prevState","validatorConfig","isRequired","isValidName","isValidYear","isURL","useEffect","Object","keys","isValid","toggleModal","onSubmit","e","preventDefault","setItem","stringify","setData","noValidate","min","max","disabled","App","basename","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.83bb9500.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst NotFound = () => {\r\n  return <h1>Page is not found</h1>;\r\n};\r\nexport default NotFound;\r\n","export const getData = () => {\r\n  return JSON.parse(localStorage.getItem('object'));\r\n};\r\n\r\nexport const setData = (data) => {\r\n  return localStorage.setItem('object', JSON.stringify(data));\r\n};\r\n","import React from 'react';\r\nimport { getData } from '../utils/data';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Card = () => {\r\n  // const object = {\r\n  //   firstName: 'Johnny',\r\n  //   lastName: 'Ivanov',\r\n  //   yearOfBirth: 1234,\r\n  //   portfolio: 'github.io',\r\n  // };\r\n  const { firstName, lastName, yearOfBirth, portfolio } = getData();\r\n  return (\r\n    <div className=\"card center-block shadow mt-5\" style={{ width: '30rem' }}>\r\n      <div className=\"card-body text-center\">\r\n        <h2 className=\"card-title\">Карточка студента</h2>\r\n        <div className=\"text-container text-left\">\r\n          <p className=\"card-text\">\r\n            <b>Имя: </b>\r\n            {firstName}\r\n          </p>\r\n          <p className=\"card-text\">\r\n            <b>Фамилия: </b>\r\n            {lastName}\r\n          </p>\r\n          <p className=\"card-text\">\r\n            <b>Год рождения: </b>\r\n            {yearOfBirth}\r\n          </p>\r\n          <p className=\"card-text\">\r\n            <b>Портфолио: </b>\r\n            <a href={portfolio}>{portfolio}</a>\r\n          </p>\r\n        </div>\r\n        <Link className=\"btn btn-primary mt-2\" to=\"/form\">\r\n          Редактировать\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Card;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getData } from '../utils/data';\r\nimport Card from '../components/Card';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <>\r\n      {!getData() ? (\r\n        <div\r\n          className=\"card center-block shadow mt-5\"\r\n          style={{ width: '30rem' }}\r\n        >\r\n          <div className=\"card text-center p-5\">\r\n            <h2 className=\"card-title\">Карточка студента</h2>\r\n            <p className=\"card-text\">Нет данных о студенте</p>\r\n            <Link className=\"btn btn-primary\" to=\"/form\">\r\n              Добавить\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <Card />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","const validator = (data, config) => {\r\n  const errors = {};\r\n\r\n  const validate = (validateMethod, data, config) => {\r\n    switch (validateMethod) {\r\n      case 'isRequired':\r\n        if (!data.trim()) return config.message;\r\n        break;\r\n      case 'isValidName': {\r\n        const length = data.trim().length;\r\n        if (length < 2 || length > 20) return config.message;\r\n        break;\r\n      }\r\n      case 'isValidYear': {\r\n        if (\r\n          Number(data) < 1921 ||\r\n          Number(data) > new Date(Date.now()).getFullYear()\r\n        )\r\n          return config.message;\r\n        break;\r\n      }\r\n      case 'isURL': {\r\n        const urlRegExp =\r\n          /[-a-zA-Z0-9@:%_\\+.~#?&\\/=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&\\/=]*)?/gi;\r\n        if (!urlRegExp.test(data)) return config.message;\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  for (const fieldName in data) {\r\n    for (const validateMethod in config[fieldName]) {\r\n      const error = validate(\r\n        validateMethod,\r\n        data[fieldName],\r\n        config[fieldName][validateMethod],\r\n      );\r\n\r\n      if (error && !errors[fieldName]) {\r\n        errors[fieldName] = error;\r\n      }\r\n    }\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default validator;\r\n","import React from 'react';\r\n\r\nconst TextField = ({ label, type, name, value, error, onChange }) => {\r\n  const getInputClasses = () => {\r\n    return 'form-control' + (error ? ' is-invalid' : '');\r\n  };\r\n\r\n  return (\r\n    <div className=\"mb-4\">\r\n      <label htmlFor={name} className=\"form-label\">\r\n        {label}\r\n      </label>\r\n      <input\r\n        type={type}\r\n        className={getInputClasses()}\r\n        id={name}\r\n        name={name}\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n      {error ? (\r\n        <div className=\"invalid-feedback\">{error}</div>\r\n      ) : (\r\n        <div style={{ color: 'transparent' }}></div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextField;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Modal = ({ show, onShow }) => {\r\n  return (\r\n    <div\r\n      style={{ width: '30rem' }}\r\n      className={`modal-window shadow center-block ${\r\n        show ? 'modal-open' : 'modal-overlay'\r\n      }`}\r\n    >\r\n      <div className=\"modal-content text-center\">\r\n        <div className=\"modal-body\">\r\n          <p className=\"mb-0 fs-4\">Данные обновлены</p>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <Link to=\"/\">\r\n            <button\r\n              onClick={onShow}\r\n              type=\"button\"\r\n              className=\"btn btn-primary px-4\"\r\n              data-bs-dismiss=\"modal\"\r\n            >\r\n              Закрыть\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport validator from '../utils/validator';\r\nimport { getData, setData } from '../utils/data';\r\nimport TextField from '../components/TextField';\r\nimport Modal from '../components/Modal';\r\n\r\nconst initalState = {\r\n  firstName: '',\r\n  lastName: '',\r\n  yearOfBirth: '',\r\n  portfolio: '',\r\n};\r\n\r\nconst Form = () => {\r\n  const [data, setaData] = useState(getData() || initalState);\r\n  const [errors, setErrors] = useState({});\r\n  const [modalShow, setModalShow] = useState(false);\r\n\r\n  const handleChange = ({ target }) => {\r\n    setaData((prevState) => ({ ...prevState, [target.name]: target.value }));\r\n  };\r\n\r\n  const validatorConfig = {\r\n    firstName: {\r\n      isRequired: { message: 'Поле обязательно для заполнения' },\r\n      isValidName: {\r\n        message: 'Поле должно содержать от 2 до 20 символов',\r\n      },\r\n    },\r\n    lastName: { isRequired: { message: 'Поле обязательно для заполнения' } },\r\n    yearOfBirth: {\r\n      isRequired: { message: 'Поле обязательно для заполнения' },\r\n      isValidYear: {\r\n        message: `Год рождения должен быть в диапазоне от 1921 до ${new Date(\r\n          Date.now(),\r\n        ).getFullYear()}`,\r\n      },\r\n    },\r\n    portfolio: {\r\n      isRequired: { message: 'Поле обязательно для заполнения' },\r\n      isURL: { message: 'Данные введены некорректно' },\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    validate();\r\n  }, [data]);\r\n\r\n  const validate = () => {\r\n    const errors = validator(data, validatorConfig);\r\n\r\n    setErrors(errors);\r\n    return !Object.keys(errors).length;\r\n  };\r\n\r\n  const isValid = !Object.keys(errors).length;\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const isValid = validate();\r\n    if (!isValid) return;\r\n    setData(data);\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setModalShow((prevState) => !prevState);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"card shadow container mt-5 p-5\"\r\n        style={{ width: '30rem' }}\r\n      >\r\n        <div\r\n          className={`modal-overlay${modalShow ? ' overlay-visible' : ''}`}\r\n        ></div>\r\n        <Modal show={modalShow} onShow={toggleModal} />\r\n        <div className=\"row\">\r\n          <h2 className=\"mb-3 text-center\">\r\n            {getData() ? 'Изменить' : 'Создать'} карточку\r\n          </h2>\r\n          <form onSubmit={handleSubmit} noValidate>\r\n            <TextField\r\n              label=\"Имя\"\r\n              name=\"firstName\"\r\n              value={data.firstName}\r\n              error={errors.firstName}\r\n              onChange={handleChange}\r\n            />\r\n            <TextField\r\n              label=\"Фамилия\"\r\n              name=\"lastName\"\r\n              value={data.lastName}\r\n              error={errors.lastName}\r\n              onChange={handleChange}\r\n            />\r\n            <TextField\r\n              label=\"Год рождения\"\r\n              type=\"number\"\r\n              name=\"yearOfBirth\"\r\n              value={data.yearOfBirth}\r\n              error={errors.yearOfBirth}\r\n              min={1930}\r\n              max={new Date(Date.now()).getFullYear()}\r\n              onChange={handleChange}\r\n            />\r\n            <TextField\r\n              label=\"Портфолио\"\r\n              name=\"portfolio\"\r\n              value={data.portfolio}\r\n              error={errors.portfolio}\r\n              onChange={handleChange}\r\n            />\r\n            <div className=\"container text-center\">\r\n              <Link className=\"btn btn-secondary m-2\" to=\"/\">\r\n                Назад\r\n              </Link>\r\n              <button\r\n                onClick={toggleModal}\r\n                className=\"btn btn-primary ml-2\"\r\n                disabled={!isValid}\r\n              >\r\n                {getData() ? 'Обновить' : 'Создать'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import './App.css';\nimport React from 'react';\nimport NotFound from './components/NotFound'\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Home from './pages/Home.jsx'\nimport Form from './pages/Form.jsx';\n\nfunction App() {\n  return (\n    <>\n      <Router basename='/student-card-react'>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/form\" component={Form} />\n          <Route component={NotFound} />\n        </Switch>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}